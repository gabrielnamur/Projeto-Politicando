<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="header.css">
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <title>Question√°rio Pol√≠tico</title>
  <link rel="stylesheet" href="questionario_politico.css">
  <style>
    body {
      background-color: #f2f2f2;
      font-family: Arial, sans-serif;
    }
    h1 {
      text-align: center;
      font-size: 36px;
      margin-top: 50px;
    }
  </style>
</head>
<body>
  <header>
    <nav>
        <div class="imgBox">
            <a href="./index.html">
                <img src="./logo_img.png" alt="">
            </a>
        </div>
        <div class="menuBox">
            <ul class="menuList">
              <li class="menuTopics"><a href="telalogada.html">In√≠cio</a></li>
              <li class="menuTopics"><a href="telalogada.html">Valores</a></li>
              <li class="menuTopics"><a href="telalogada.html">M√©tricas</a></li>
              <li class="menuTopics"><a href="FAQ.html">FAQ</a></li>
              <li class="menuTopics"><a href="newsletterdeputados.html">News</a></li>
              <li class="menuTopics"><a href="consultadeputados.html">Avalie!</a></li>
              <li class="menuTopics"><a href="questionario_politico.html">Question√°rio</a></li>
              <li class="menuTopics"><a href="telalogada.html">Contatos</a></li>
              <li class="menuTopics"><a href="index.html">Sair</a></li>
                <div>Seja Bem-vindo, Usu√°rio!</div>
                </li>
            </ul>
        </div>
    </nav>
</header><br>
  <h1>Question√°rio Pol√≠tico | Politicando¬Æ üìã</h1><br>
  <h2>Responda atentamente o question√°rio e obtenha sua orienta√ß√£o pol√≠tica baseada em m√©tricas!</h2>
  <br>

  <div id="quiz">
    <div class="question">
      <p><b>1. O que voc√™ acha da interven√ß√£o do Estado na economia?</b></p>
      <div class="options">
        <label><input type="radio" name="q1" value="1"> Totalmente a favor</label>
        <label><input type="radio" name="q1" value="2"> A favor em alguns casos</label>
        <label><input type="radio" name="q1" value="3"> Neutro</label>
        <label><input type="radio" name="q1" value="4"> Contra em alguns casos</label>
        <label><input type="radio" name="q1" value="5"> Totalmente contra</label>
      </div>
    </div>
    
    <div class="question">
      <p><b>2. Qual sua opini√£o sobre a privatiza√ß√£o de empresas estatais?</b></p>
      <div class="options">
        <label><input type="radio" name="q2" value="1"> Totalmente a favor</label>
        <label><input type="radio" name="q2" value="2"> A favor em alguns casos</label>
        <label><input type="radio" name="q2" value="3"> Neutro</label>
        <label><input type="radio" name="q2" value="4"> Contra em alguns casos</label>
        <label><input type="radio" name="q2" value="5"> Totalmente contra</label>
      </div>
    </div>

    <div class="question">
      <p><b>3. Como voc√™ se posiciona em rela√ß√£o aos direitos LGBTQIA+?</b></p>
      <div class="options">
        <label><input type="radio" name="q3" value="1"> Totalmente a favor</label>
        <label><input type="radio" name="q3" value="2"> A favor em alguns casos</label>
        <label><input type="radio" name="q3" value="3"> Neutro</label>
        <label><input type="radio" name="q3" value="4"> Contra em alguns casos</label>
        <label><input type="radio" name="q3" value="5"> Totalmente contra</label>
      </div>
    </div>

    <div class="question">
      <p><b>4. Qual √© a sua vis√£o sobre o papel do Estado na educa√ß√£o?</b></p>
      <div class="options">
        <label><input type="radio" name="q4" value="1"> Deve ser totalmente p√∫blico</label>
        <label><input type="radio" name="q4" value="2"> Deve ser parcialmente p√∫blico</label>
        <label><input type="radio" name="q4" value="3"> Neutro</label>
        <label><input type="radio" name="q4" value="4"> Deve haver uma mistura de p√∫blico e privado</label>
        <label><input type="radio" name="q4" value="5"> Deve ser totalmente privado</label>
      </div>
    </div>

    <div class="question">
      <p><b>5. Qual √© a sua opini√£o sobre o sistema de sa√∫de p√∫blico?</b></p>
      <div class="options">
        <label><input type="radio" name="q5" value="1"> Deve ser totalmente p√∫blico</label>
        <label><input type="radio" name="q5" value="2"> Deve haver uma mistura de p√∫blico e privado</label>
        <label><input type="radio" name="q5" value="3"> Neutro</label>
        <label><input type="radio" name="q5" value="4"> Deve ser totalmente privado</label>
        <label><input type="radio" name="q5" value="5"> N√£o tenho opini√£o formada</label>
      </div>
    </div>

    <div class="question">
      <p><b>6. Como voc√™ se posiciona em rela√ß√£o √†s pol√≠ticas de imigra√ß√£o?</b></p>
      <div class="options">
        <label><input type="radio" name="q6" value="1"> Deve haver abertura total</label>
        <label><input type="radio" name="q6" value="2"> Deve haver controle, mas com facilidades</label>
        <label><input type="radio" name="q6" value="3"> Neutro</label>
        <label><input type="radio" name="q6" value="4"> Deve haver controle r√≠gido</label>
        <label><input type="radio" name="q6" value="5"> Deve haver total restri√ß√£o</label>
      </div>
    </div>

    <div class="question">
      <p><b>7. O que voc√™ pensa sobre a pena de morte?</b></p>
      <div class="options">
        <label><input type="radio" name="q7" value="1"> Sou a favor</label>
        <label><input type="radio" name="q7" value="2"> Sou a favor em casos espec√≠ficos</label>
        <label><input type="radio" name="q7" value="3"> Neutro</label>
        <label><input type="radio" name="q7" value="4"> Sou contra em casos espec√≠ficos</label>
        <label><input type="radio" name="q7" value="5"> Sou contra</label>
      </div>
    </div>

    <div class="question">
      <p><b>8. Qual √© a sua vis√£o sobre o controle de armas de fogo?</b></p>
      <div class="options">
        <label><input type="radio" name="q8" value="1"> Deve haver controle rigoroso</label>
        <label><input type="radio" name="q8" value="2"> Deve haver controle, mas com algumas restri√ß√µes</label>
        <label><input type="radio" name="q8" value="3"> Neutro</label>
        <label><input type="radio" name="q8" value="4"> Deve haver menos restri√ß√µes ao porte de armas</label>
        <label><input type="radio" name="q8" value="5"> Deve haver total liberdade de porte de armas</label>
      </div>
    </div>

    <div class="question">
      <p><b>9. Como voc√™ se posiciona em rela√ß√£o √† prote√ß√£o ambiental?</b></p>
      <div class="options">
        <label><input type="radio" name="q9" value="1"> Deve ser prioridade m√°xima</label>
        <label><input type="radio" name="q9" value="2"> Deve ser importante, mas balanceado com outros interesses</label>
        <label><input type="radio" name="q9" value="3"> Neutro</label>
        <label><input type="radio" name="q9" value="4"> Deve ser considerado, mas sem prejudicar o desenvolvimento econ√¥mico</label>
        <label><input type="radio" name="q9" value="5"> N√£o √© uma prioridade</label>
      </div>
    </div>

    <div class="question">
      <p><b>10. Qual √© a sua opini√£o sobre programas de assist√™ncia social?</b></p>
      <div class="options">
        <label><input type="radio" name="q10" value="1"> Deve ser ampliado para garantir uma rede de prote√ß√£o social abrangente</label>
        <label><input type="radio" name="q10" value="2"> Deve ser mantido nos casos de extrema necessidade</label>
        <label><input type="radio" name="q10" value="3"> Neutro</label>
        <label><input type="radio" name="q10" value="4"> Deve ser reduzido e focado em casos espec√≠ficos</label>
        <label><input type="radio" name="q10" value="5"> Deve ser completamente eliminado</label>
      </div>
    </div>

    <button onclick="calculateResult()">Enviar</button><br><br>
    <canvas id="chart"></canvas>
  </div>

  <div id="result" class="result" style="display: none;"></div>

  <script>
    function calculateResult() {
      var answers = document.querySelectorAll('input[type="radio"]:checked');
      
      if (answers.length !== 10) {
        alert("Por favor, responda todas as perguntas!");
        return;
      }
      
      var result = 0;
      for (var i = 0; i < answers.length; i++) {
        result += parseInt(answers[i].value);
      }
      
      var resultElement = document.getElementById('result');
      resultElement.innerHTML = "Sua orienta√ß√£o pol√≠tica √©: " + determineOrientation(result) + " " +
      "<br>Disclaimer: O question√°rio √© baseado em m√©tricas e seu resultado poder√° n√£o refletir na sua efetiva orienta√ß√£o pol√≠tica.";
      resultElement.style.display = 'block';
      var ctx = document.getElementById('chart').getContext('2d');
var chart = new Chart(ctx, {
  type: 'bar',
  data: {
    labels: ['Esquerda', 'Centro-Esquerda', 'Centro', 'Centro-Direita', 'Direita', 'Extrema Direita'],
    datasets: [{
      label: 'Orienta√ß√£o Pol√≠tica dos Usu√°rios',
      data: [5, 10, 15, 20, 25, 30],
      backgroundColor: [
        'rgba(255, 99, 132, 0.5)',
        'rgba(255, 159, 64, 0.5)',
        'rgba(255, 205, 86, 0.5)',
        'rgba(75, 192, 192, 0.5)',
        'rgba(54, 162, 235, 0.5)',
        'rgba(153, 102, 255, 0.5)'
      ],
      borderColor: [
        'rgba(255, 99, 132, 1)',
        'rgba(255, 159, 64, 1)',
        'rgba(255, 205, 86, 1)',
        'rgba(75, 192, 192, 1)',
        'rgba(54, 162, 235, 1)',
        'rgba(153, 102, 255, 1)'
      ],
      borderWidth: 1
    }]
  },
  options: {
    scales: {
      y: {
        beginAtZero: true,
        stepSize: 1
      }
    }
  }
});

    }
    
    function determineOrientation(score) {
      var posicionamento;
      
      if (score < 15) {
        posicionamento = "Esquerda";
      } else if (score < 25) {
        posicionamento = "Centro-Esquerda";
      } else if (score < 35) {
        posicionamento = "Centro";
      } else if (score < 45) {
        posicionamento = "Centro-Direita";
      }
        else if (score < 55) {
          posicionamento = "Direita";
      } else {
        posicionamento = "Extrema Direita";
      }
      return posicionamento;
    }
  </script>
</body>
</html>
<script>
            fetch("/questionario/cadastrar", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    // crie um atributo que recebe o valor recuperado aqui
                    // Agora v√° para o arquivo routes/usuario.js
                    resultado: posicionamento
                })
            }).then(function (resposta) {
                console.log("resposta: ", resposta);
                if (resposta.ok) {
                    alert('Resultado computado com sucesso.')
                } else {
                    alert ("Houve um erro ao computar seu resultado.");
                }
            }).catch(function (resposta) {
                console.log(`#ERRO: ${resposta}`);
                finalizarAguardar();
            });

            return false;

</script>



